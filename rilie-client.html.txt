<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RILIE (3,6,9)</title>

  <!-- Favicon / app icon â€” 3Dent logo -->
  <link rel="icon" href="data:image/png;base64,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" />
  <link rel="apple-touch-icon" href="data:image/png;base64,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" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: #0a0a0a;
      background-image:
        radial-gradient(ellipse at 20% 50%, rgba(30,30,40,0.6) 0%, transparent 70%),
        radial-gradient(ellipse at 80% 50%, rgba(20,20,30,0.4) 0%, transparent 70%);
      color: #e8e8e8;
      font-family: 'Outfit', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€ Sidebar â”€â”€ */
    .rilie-sidebar {
      width: 56px;
      min-height: 100vh;
      background: linear-gradient(180deg, #0c0c10 0%, #08080c 100%);
      border-right: 1px solid rgba(255,255,255,0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 16px 0;
      gap: 6px;
      position: fixed;
      left: 0;
      top: 0;
      z-index: 100;
    }

    .sidebar-logo {
      width: 30px;
      height: 30px;
      margin-bottom: 12px;
      filter: drop-shadow(0 1px 6px rgba(255,255,255,0.06));
    }

    .sidebar-btn {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 8px;
      background: transparent;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }
    .sidebar-btn svg {
      width: 18px;
      height: 18px;
      stroke: rgba(255,255,255,0.3);
      fill: none;
      stroke-width: 1.8;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: stroke 0.2s ease;
    }
    .sidebar-btn:hover {
      background: rgba(255,255,255,0.05);
    }
    .sidebar-btn:hover svg {
      stroke: rgba(255,255,255,0.6);
    }
    .sidebar-btn.active {
      background: rgba(255,255,255,0.07);
    }
    .sidebar-btn.active svg {
      stroke: rgba(255,255,255,0.7);
    }

    .sidebar-label {
      font-size: 8px;
      color: rgba(255,255,255,0.2);
      letter-spacing: 0.04em;
      text-align: center;
      margin-top: -2px;
      font-weight: 500;
    }

    /* â”€â”€ Main Layout â”€â”€ */
    main {
      margin-left: 56px;
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .rilie-header {
      border-bottom: 1px solid rgba(255,255,255,0.05);
      padding: 20px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      background: rgba(10,10,10,0.8);
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .rilie-header h1 {
      font-size: 16px;
      font-weight: 500;
      letter-spacing: 0.04em;
    }

    .rilie-nav {
      display: flex;
      gap: 8px;
    }

    .rilie-nav button {
      border: none;
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.5);
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .rilie-nav button:hover {
      background: rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.8);
    }

    .rilie-nav button.active {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }

    /* â”€â”€ Content Area â”€â”€ */
    .rilie-content {
      flex: 1;
      overflow: hidden;
      display: flex;
      gap: 8px;
      padding: 8px;
    }

    .rilie-workspace {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-width: 0;
    }

    .rilie-output-panel, .rilie-input-panel {
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 8px;
      background: rgba(255,255,255,0.01);
    }

    .rilie-output-panel {
      flex: 1;
      min-height: 0;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .rilie-output-content {
      flex: 1;
      overflow-y: auto;
      padding: 24px 32px;
      line-height: 1.6;
      font-size: 15px;
      color: rgba(255,255,255,0.85);
      word-wrap: break-word;
    }

    .rilie-output-content p {
      margin-bottom: 16px;
    }

    .rilie-code-block {
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 6px;
      margin: 16px 0;
      overflow: hidden;
      position: relative;
    }

    .rilie-code-block pre {
      margin: 0;
      padding: 16px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.5;
    }

    .rilie-code-block code {
      color: #b4d4ff;
      font-family: 'Monaco', 'Menlo', monospace;
    }

    .rilie-code-copy {
      position: absolute;
      top: 8px;
      right: 8px;
      border: none;
      background: rgba(255,255,255,0.1);
      color: rgba(255,255,255,0.6);
      padding: 6px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 11px;
      transition: all 0.2s;
    }

    .rilie-code-copy:hover {
      background: rgba(255,255,255,0.15);
      color: rgba(255,255,255,0.9);
    }

    .rilie-input-panel {
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 16px;
    }

    .rilie-textarea {
      flex: 1;
      border: none;
      background: rgba(255,255,255,0.03);
      color: #e8e8e8;
      padding: 12px;
      border-radius: 6px;
      font-family: 'Outfit', sans-serif;
      font-size: 14px;
      resize: none;
      outline: none;
      transition: background 0.2s;
    }

    .rilie-textarea:focus {
      background: rgba(255,255,255,0.06);
    }

    .rilie-textarea::placeholder {
      color: rgba(255,255,255,0.3);
    }

    .rilie-input-actions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .rilie-btn {
      border: none;
      background: rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.8);
      padding: 10px 16px;
      border-radius: 6px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }

    .rilie-btn:hover {
      background: rgba(255,255,255,0.12);
      color: #fff;
    }

    .rilie-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .rilie-btn.primary {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }

    .rilie-btn.primary:hover {
      background: rgba(255,255,255,0.15);
    }

    #file-input {
      display: none;
    }

    #file-names {
      font-size: 12px;
      color: rgba(255,255,255,0.5);
      flex: 1;
    }

    #file-clear {
      display: none;
      border: none;
      background: transparent;
      color: rgba(255,255,255,0.4);
      cursor: pointer;
      padding: 4px 8px;
      font-size: 12px;
      transition: color 0.2s;
    }

    #file-clear:hover {
      color: rgba(255,255,255,0.7);
    }

    #file-clear.visible {
      display: block;
    }

    /* â”€â”€ Meta Panel â”€â”€ */
    .rilie-meta-panel {
      width: 280px;
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 8px;
      background: rgba(255,255,255,0.01);
      display: none;
      flex-direction: column;
      overflow-y: auto;
    }

    .rilie-meta-panel.visible {
      display: flex;
    }

    .rilie-meta-section {
      padding: 12px 16px;
      border-bottom: 1px solid rgba(255,255,255,0.03);
    }

    .rilie-meta-label {
      font-size: 11px;
      color: rgba(255,255,255,0.4);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 6px;
      font-weight: 600;
    }

    .rilie-meta-value {
      font-size: 13px;
      color: rgba(255,255,255,0.8);
      word-break: break-word;
    }

    .rilie-health-bar {
      height: 4px;
      background: rgba(255,255,255,0.1);
      border-radius: 2px;
      overflow: hidden;
      margin-top: 8px;
    }

    .rilie-health-fill {
      height: 100%;
      background: linear-gradient(90deg, #4a7, #5a8);
      transition: width 0.3s;
    }

    /* â”€â”€ Output Actions â”€â”€ */
    .rilie-output-actions {
      display: none;
      gap: 8px;
      padding: 8px;
      border-top: 1px solid rgba(255,255,255,0.05);
      background: rgba(255,255,255,0.01);
    }

    .rilie-output-actions.visible {
      display: flex;
    }

    .rilie-output-actions button {
      flex: 1;
      border: none;
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.6);
      padding: 8px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .rilie-output-actions button:hover {
      background: rgba(255,255,255,0.1);
      color: rgba(255,255,255,0.9);
    }

    .rilie-output-actions button.copied {
      background: rgba(76, 175, 80, 0.2);
      color: #4CAF50;
    }

    /* â”€â”€ Scrollbar â”€â”€ */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.1);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.15);
    }

    @media (max-width: 1200px) {
      .rilie-meta-panel {
        display: none !important;
      }
      .rilie-content {
        gap: 0;
      }
    }

    @media (max-width: 768px) {
      .rilie-header {
        padding: 16px;
        flex-direction: column;
        gap: 12px;
      }
      .rilie-output-content {
        padding: 16px;
        font-size: 14px;
      }
      .rilie-input-panel {
        padding: 12px;
      }
    }
  </style>
</head>

<body>
  <!-- â”€â”€ Sidebar â”€â”€ -->
  <aside class="rilie-sidebar">
    <svg class="sidebar-logo" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
      <path d="M12 6v6m0 4h.01" stroke="rgba(255,255,255,0.5)" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <button class="sidebar-btn active" id="sidebar-new" title="New">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M17 13h-6v6h-2v-6H3v-2h6V5h2v6h6v2z"/>
      </svg>
      <div class="sidebar-label">New</div>
    </button>
    <button class="sidebar-btn" id="sidebar-history" title="History">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M13 3a9 9 0 00-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0013 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.46.37 1.11-1.85-.46-.37L12 10.71V8h-2z"/>
      </svg>
      <div class="sidebar-label">History</div>
    </button>
    <button class="sidebar-btn" id="sidebar-discover" title="Discover">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/>
      </svg>
      <div class="sidebar-label">Discover</div>
    </button>
    <button class="sidebar-btn" id="sidebar-spaces" title="Spaces">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12h-4v4h-4v-4H4v-4h4V6h4v4h4v4z"/>
      </svg>
      <div class="sidebar-label">Spaces</div>
    </button>
    <button class="sidebar-btn" id="sidebar-finance" title="Finance">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 9.5c0 .83-.67 1.5-1.5 1.5S11 13.33 11 12.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5zm5 2.5h-4v2h-2v-2h-4v-2h4v-2h2v2h4v2z"/>
      </svg>
      <div class="sidebar-label">Finance</div>
    </button>
  </aside>

  <!-- â”€â”€ Main Content â”€â”€ -->
  <main>
    <!-- â”€â”€ Header â”€â”€ -->
    <header class="rilie-header">
      <h1>RILIE (3,6,9)</h1>
      <nav class="rilie-nav">
        <button class="active">Chat</button>
        <button>Spaces</button>
        <button>Docs</button>
      </nav>
    </header>

    <!-- â”€â”€ Content â”€â”€ -->
    <div class="rilie-content">
      <!-- â”€â”€ Workspace â”€â”€ -->
      <div class="rilie-workspace">
        <!-- â”€â”€ Output â”€â”€ -->
        <div class="rilie-output-panel">
          <div class="rilie-output-content" id="output"></div>
          <div class="rilie-output-actions" id="output-actions">
            <button id="share-btn" title="Share">Share</button>
            <button id="download-btn" title="Download">Download</button>
            <button id="copy-btn" title="Copy">Copy</button>
            <button id="rewrite-btn" title="Rewrite">Rewrite</button>
          </div>
        </div>

        <!-- â”€â”€ Input â”€â”€ -->
        <div class="rilie-input-panel">
          <textarea class="rilie-textarea" id="input" placeholder="Drop a question. A thought. A vibe. Then hit Go." spellcheck="true"></textarea>
          <div class="rilie-input-actions">
            <button class="rilie-btn primary" id="submit-btn">Learn from Go</button>
            <button class="rilie-btn" id="self-btn">Who am I?</button>
            <input type="file" id="file-input" multiple />
            <button class="rilie-btn" id="file-upload-btn">ðŸ“Ž Upload</button>
            <span id="file-names"></span>
            <button id="file-clear">âœ• Clear</button>
          </div>
        </div>
      </div>

      <!-- â”€â”€ Meta Panel â”€â”€ -->
      <div class="rilie-meta-panel" id="meta-panel">
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Health</div>
          <div class="rilie-health-bar">
            <div class="rilie-health-fill" id="health-fill" style="width: 100%;"></div>
          </div>
          <div class="rilie-meta-value"><span id="health-pct">100</span>%</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Status</div>
          <div class="rilie-meta-value" id="meta-status">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Quality</div>
          <div class="rilie-meta-value" id="meta-quality">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Priorities Met</div>
          <div class="rilie-meta-value" id="meta-priorities">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Anti-Beige</div>
          <div class="rilie-meta-value" id="meta-beige">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Depth / Pass</div>
          <div class="rilie-meta-value" id="meta-depth">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Tone</div>
          <div class="rilie-meta-value" id="meta-tone">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Domains Used</div>
          <div class="rilie-meta-value" id="meta-domains">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Triangle</div>
          <div class="rilie-meta-value" id="meta-triangle">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Wit</div>
          <div class="rilie-meta-value" id="meta-wit">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Language</div>
          <div class="rilie-meta-value" id="meta-language">â€”</div>
        </div>
        <div class="rilie-meta-section">
          <div class="rilie-meta-label">Social Status</div>
          <div class="rilie-meta-value" id="meta-social">â€”</div>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const inputEl = document.getElementById("input");
      const outputEl = document.getElementById("output");
      const submitBtn = document.getElementById("submit-btn");
      const selfBtn = document.getElementById("self-btn");
      const shareBtn = document.getElementById("share-btn");
      const downloadBtn = document.getElementById("download-btn");
      const copyBtn = document.getElementById("copy-btn");
      const rewriteBtn = document.getElementById("rewrite-btn");
      const metaPanel = document.getElementById("meta-panel");
      const outputActions = document.getElementById("output-actions");
      const healthFill = document.getElementById("health-fill");
      const healthPct = document.getElementById("health-pct");

      const fileInput = document.getElementById("file-input");
      const fileClear = document.getElementById("file-clear");
      const fileNames = document.getElementById("file-names");
      const fileUploadBtn = document.getElementById("file-upload-btn");

      let lastStimulus = "";

      /* â”€â”€ FILE UPLOAD HANDLER (FIXED) â”€â”€ */
      // Listen for file selection changes
      if (fileInput) {
        fileInput.addEventListener("change", (e) => {
          const files = e.target.files;
          if (files && files.length > 0) {
            const names = Array.from(files).map(f => f.name).join(", ");
            fileNames.textContent = files.length === 1 ? names : files.length + " files: " + names;
            fileClear.classList.add("visible");
            console.log(`Files selected: ${files.length} - ${names}`);
          } else {
            fileNames.textContent = "";
            fileClear.classList.remove("visible");
          }
        });
      }

      // Clear files button
      if (fileClear) {
        fileClear.onclick = (e) => {
          e.preventDefault();
          e.stopPropagation();
          fileInput.value = "";
          fileNames.textContent = "";
          fileClear.classList.remove("visible");
          console.log("Files cleared");
        };
      }

      // File upload button click
      if (fileUploadBtn) {
        fileUploadBtn.onclick = (e) => {
          e.preventDefault();
          fileInput.click();
        };
      }

      function updateMeta(data) {
        metaPanel.classList.add("visible");
        const set = (id, val) => { const el = document.getElementById(id); if (el) el.textContent = val || "â€”"; };
        set("meta-status", data.status);
        set("meta-quality", data.quality_score != null ? data.quality_score.toFixed(2) : "â€”");
        set("meta-priorities", data.priorities_met);
        set("meta-beige", data.anti_beige_score != null ? data.anti_beige_score.toFixed(2) : "â€”");
        set("meta-depth", (data.depth || 0) + " / " + (data.pass || 0));
        set("meta-tone", (data.tone_emoji || "") + " " + (data.tone || ""));
        set("meta-domains", (data.domains_used || []).join(", "));
        set("meta-triangle", data.triangle_reason || "CLEAN");
        const wit = data.wit || {};
        const witActive = Object.entries(wit).filter(([k, v]) => v).map(([k]) => k);
        set("meta-wit", witActive.length ? witActive.join(", ") : "none");
        const lang = data.language_mode || {};
        const langActive = Object.entries(lang).filter(([k, v]) => v).map(([k]) => k);
        set("meta-language", langActive.length ? langActive.join(", ") : "literal");
        const social = data.social || {};
        set("meta-social", social.user_status != null ? "user=" + social.user_status.toFixed(2) + " self=" + social.self_status.toFixed(2) : "â€”");
        const health = data.conversation_health || 100;
        healthFill.style.width = health + "%";
        healthPct.textContent = Math.round(health);
        if (health > 70) healthFill.style.background = "linear-gradient(90deg, #4a7, #5a8)";
        else if (health > 50) healthFill.style.background = "linear-gradient(90deg, #aa8, #bb9)";
        else if (health > 30) healthFill.style.background = "linear-gradient(90deg, #a85, #b96)";
        else healthFill.style.background = "linear-gradient(90deg, #a55, #b66)";
      }

      function escapeHtml(str) {
        return str.replace(/[&<>\"']/g, (s) => (
          { "&": "&amp;", "<": "&lt;", ">": "&gt;", "\"": "&quot;", "'": "&#39;" }[s]
        ));
      }

      // Render fenced ``` code blocks as cards with copy buttons
      function renderOutputWithCode(text) {
        const parts = text.split("```");
        let html = "";

        for (let i = 0; i < parts.length; i++) {
          const chunk = parts[i];
          if (i % 2 === 0) {
            if (chunk.trim()) {
              html += "<p>" + escapeHtml(chunk).replace(/\n/g, "<br>") + "</p>";
            }
          } else {
            const lines = chunk.split("\n");
            let codeLines = lines;
            if (lines[0].trim().match(/^[a-zA-Z0-9_+-]+$/)) {
              codeLines = lines.slice(1);
            }
            const codeHtml = escapeHtml(codeLines.join("\n"));
            html += (
              '<div class="rilie-code-block">' +
                '<button class="rilie-code-copy">copy</button>' +
                "<pre><code>" + codeHtml + "</code></pre>" +
              "</div>"
            );
          }
        }

        outputEl.innerHTML = html;

        document.querySelectorAll(".rilie-code-copy").forEach((btn) => {
          btn.onclick = async () => {
            const code = btn.parentElement.querySelector("pre").innerText;
            try {
              await navigator.clipboard.writeText(code);
              btn.textContent = "copied";
              setTimeout(() => { btn.textContent = "copy"; }, 1200);
            } catch (e) {}
          };
        });
      }

      /* â”€â”€ Submit with file upload â”€â”€ */
      if (submitBtn) {
        submitBtn.onclick = async () => {
          console.log("Button clicked!");
          const stimulus = inputEl.value.trim();
        if (!stimulus) {
          outputEl.textContent = "Drop something in. A question, a thought, a vibe. Then hit Go.";
          return;
        }

        // Remember and clear input so the box is ready for the next move
        lastStimulus = stimulus;
        inputEl.value = "";

        submitBtn.disabled = true;
        submitBtn.textContent = "Going...";
        outputActions.classList.remove("visible");

        try {
          // Append user message to conversation flow
          const userDiv = document.createElement("div");
          userDiv.style.marginBottom = "16px";
          userDiv.innerHTML = "<strong>You:</strong> " + escapeHtml(stimulus).replace(/\n/g, "<br>");
          outputEl.appendChild(userDiv);

          const files = fileInput.files;
          let res;

          if (files && files.length > 0) {
            // Send as FormData with files
            const formData = new FormData();
            formData.append("stimulus", stimulus);
            formData.append("max_pass", "3");
            for (let i = 0; i < files.length; i++) {
              formData.append("files", files[i]);
            }
            res = await fetch("/v1/rilie", { method: "POST", body: formData });
          } else {
            // Send as JSON (no files)
            res = await fetch("/v1/rilie", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ stimulus, max_pass: 3 })
            });
          }

          if (!res.ok) {
            const errDiv = document.createElement("div");
            errDiv.style.color = "#a55";
            errDiv.innerHTML = "<strong>Error:</strong> " + res.status;
            outputEl.appendChild(errDiv);
            return;
          }

          const data = await res.json();
          const rilieLine = data.result || "No result returned.";

          // Create RILIE response container
          const rilieDiv = document.createElement("div");
          rilieDiv.style.marginBottom = "16px";
          
          // Parse and render with code blocks
          const parts = rilieLine.split("```");
          let html = "";
          for (let i = 0; i < parts.length; i++) {
            const chunk = parts[i];
            if (i % 2 === 0) {
              if (chunk.trim()) {
                html += "<p><strong>RILIE:</strong> " + escapeHtml(chunk).replace(/\n/g, "<br>") + "</p>";
              }
            } else {
              const lines = chunk.split("\n");
              let codeLines = lines;
              if (lines[0].trim().match(/^[a-zA-Z0-9_+-]+$/)) {
                codeLines = lines.slice(1);
              }
              const codeHtml = escapeHtml(codeLines.join("\n"));
              html += (
                '<div class="rilie-code-block">' +
                  '<button class="rilie-code-copy">copy</button>' +
                  "<pre><code>" + codeHtml + "</code></pre>" +
                "</div>"
              );
            }
          }
          rilieDiv.innerHTML = html;
          outputEl.appendChild(rilieDiv);

          // Attach copy button handlers
          rilieDiv.querySelectorAll(".rilie-code-copy").forEach((btn) => {
            btn.onclick = async () => {
              const code = btn.parentElement.querySelector("pre").innerText;
              try {
                await navigator.clipboard.writeText(code);
                btn.textContent = "copied";
                setTimeout(() => { btn.textContent = "copy"; }, 1200);
              } catch (e) {}
            };
          });

          // Scroll to bottom
          outputEl.scrollTop = outputEl.scrollHeight;

          updateMeta(data);
          outputActions.classList.add("visible");
        } catch (err) {
          const errDiv = document.createElement("div");
          errDiv.style.color = "#a55";
          errDiv.innerHTML = "<strong>Request failed:</strong> " + err;
          outputEl.appendChild(errDiv);
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = "Learn from Go";
        }
        };
      } else {
        console.error("submitBtn not found!");
      }

      selfBtn.onclick = async () => { inputEl.value = "Who are you?"; submitBtn.click(); };

      /* â”€â”€ Output Actions â”€â”€ */
      // Share â€” copy URL + response snippet
      shareBtn.onclick = async () => {
        const text = outputEl.textContent;
        const shareData = { title: "RILIE (3,6,9)", text: text.substring(0, 200) + (text.length > 200 ? "..." : ""), url: window.location.href };
        if (navigator.share) {
          try { await navigator.share(shareData); } catch (e) { /* user cancelled */ }
        } else {
          try { await navigator.clipboard.writeText(window.location.href + "\n\n" + text); shareBtn.classList.add("copied"); setTimeout(() => shareBtn.classList.remove("copied"), 1500); }
          catch (e) {}
        }
      };

      // Download â€” save response as .txt
      downloadBtn.onclick = () => {
        const text = outputEl.textContent;
        if (!text) return;
        const blob = new Blob([text], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "rilie-response.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      };

      // Copy
      copyBtn.onclick = async () => {
        const text = outputEl.textContent;
        if (text) {
          try {
            await navigator.clipboard.writeText(text);
            copyBtn.classList.add("copied");
            const o = copyBtn.innerHTML;
            copyBtn.innerHTML = '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>';
            setTimeout(() => { copyBtn.classList.remove("copied"); copyBtn.innerHTML = o; }, 1500);
          } catch (err) {
            const ta = document.createElement("textarea");
            ta.value = text;
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
          }
        }
      };

      // Rewrite â€” re-submit last stimulus
      rewriteBtn.onclick = () => { if (lastStimulus) { inputEl.value = lastStimulus; submitBtn.click(); } };

      // Enter to submit
      inputEl.addEventListener("keydown", (e) => { if (e.key === "Enter" && !e.shiftKey) { e.preventDefault(); submitBtn.click(); } });

      /* â”€â”€ Sidebar Actions â”€â”€ */
      document.getElementById("sidebar-new").onclick = () => {
        inputEl.value = "";
        outputEl.textContent = "";
        metaPanel.classList.remove("visible");
        outputActions.classList.remove("visible");
        healthFill.style.width = "100%";
        healthPct.textContent = "100";
        fileInput.value = "";
        fileNames.textContent = "";
        fileClear.classList.remove("visible");
        lastStimulus = "";
        inputEl.focus();
      };

      document.getElementById("sidebar-history").onclick = () => {
        outputEl.textContent = "History â€” coming soon. Every conversation remembered.";
        outputActions.classList.remove("visible");
      };

      document.getElementById("sidebar-discover").onclick = () => {
        inputEl.focus();
      };

      document.getElementById("sidebar-spaces").onclick = () => {
        outputEl.textContent = "Spaces â€” coming soon. Collaborative rooms with shared context.";
        outputActions.classList.remove("visible");
      };

      document.getElementById("sidebar-finance").onclick = () => {
        outputEl.textContent = "Finance â€” coming soon. Real intelligence meets real numbers.";
        outputActions.classList.remove("visible");
      };
    }); // Close DOMContentLoaded
  </script>
</body>
</html>
